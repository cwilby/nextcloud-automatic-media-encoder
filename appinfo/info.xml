<?xml version="1.0"?>
<info xmlns:xsi= "http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="https://apps.nextcloud.com/schema/apps/info.xsd">
    <id>automaticmediaencoder</id>
    <name>Automatic Media Encoder</name>
    <summary>Automate photo/video conversion with rule-based configuration</summary>
    <description><![CDATA[## Getting Started

[ffmpeg]() is a required dependency to support media conversion.  

If you are using Docker, create a custom `Dockerfile` that extends the base Nextcloud image to install `ffmpeg`.

This should be installed _before_ you install this app in Nextcloud.

## After Installation

Once the app has been installed in Nextcloud, you may go to Settings &gt; Automated Media Converter to add photo or video conversion rules.

## How It Works

There are two background jobs working as a pair.

The first job is `FindNewMedia` which runs once every minute to do a quick recursive seek to find unconverted media in specified folders and schedule them for conversion.

The second job is `ConvertMedia` which runs on a configurable schedule to iterate over unconverted media scheduled by `FindNewMedia` in chronological order and spawn an `ffmpeg` process to convert the media based on the rules specified in Settings &gt; Automated Media Converter followed by the logic specified in the rule.

The `ConvertMedia` job tries to convert as many media as it can before the next scheduled job, which will pick up where the last job left off, and can be scheduled to run as often as you like, opening up the following possibilities:

## 1. Convert media as often as possible (say once a minute)
If you are uploading short videos or have very fast hardware, you can get near real time video processing with this configuration.   However, it will likely fail to finish converting larger videos within the minute and retry infinitely.

## 2. Convert media semi-often (say once every 60 minutes)
This is a good balance between real-time processing and resource management.  It is likely most videos can be converted within 60 minutes on modern hardware.

## 3. Convert media nightly
This isn&#39;t likely useful in most scenarios, but could help when converting many long videos.

Create issues on GitHub when you find problems and have fun!]]></description>
    <version>0.0.1</version>
    <licence>agpl</licence>
    <author mail="cameron@wilby.com" homepage="https://github.com/cwilby">Cameron Wilby</author>
    <namespace>AutomaticMediaEncoder</namespace>
    <category>files</category>
    <category>multimedia</category>
    <category>organization</category>
    <category>tools</category>
    <category>workflow</category>
    <bugs>https://github.com/cwilby/nc-automated-media-encoder</bugs>
    <dependencies>
        <nextcloud min-version="15" max-version="15"/>
    </dependencies>
    <navigations>
        <navigation>
            <name>Automatic Media Encoder</name>
            <route>automaticmediaencoder.page.index</route>
        </navigation>
    </navigations>
</info>
